controller_manager:
  ros__parameters:
    update_rate: 1000  # Franka 권장 1kHz

    joint_state_broadcaster:
      type: joint_state_broadcaster/JointStateBroadcaster

    franka_robot_state_broadcaster:
      type: franka_robot_state_broadcaster/FrankaRobotStateBroadcaster

    fr3_arm_controller:
      type: joint_trajectory_controller/JointTrajectoryController

# --- Arm controller params ---
fr3_arm_controller:
  ros__parameters:
    joints:
      - fr3_joint1
      - fr3_joint2
      - fr3_joint3
      - fr3_joint4
      - fr3_joint5
      - fr3_joint6
      - fr3_joint7
    command_interfaces: [position]
    state_interfaces: [position, velocity]
    allow_partial_joints_goal: false
    constraints:
      stopped_velocity_tolerance: 0.01
      goal_time: 2.0
    gains:  # 필요시 튜닝
      fr3_joint1: { p: 300.0, d: 10.0, i: 0.0, i_clamp: 1.0, ff_velocity_scale: 0.0 }
      fr3_joint2: { p: 300.0, d: 10.0, i: 0.0, i_clamp: 1.0, ff_velocity_scale: 0.0 }
      fr3_joint3: { p: 200.0, d: 10.0, i: 0.0, i_clamp: 1.0, ff_velocity_scale: 0.0 }
      fr3_joint4: { p: 150.0, d: 10.0, i: 0.0, i_clamp: 1.0, ff_velocity_scale: 0.0 }
      fr3_joint5: { p: 100.0, d: 10.0, i: 0.0, i_clamp: 1.0, ff_velocity_scale: 0.0 }
      fr3_joint6: { p:  80.0, d: 10.0, i: 0.0, i_clamp: 1.0, ff_velocity_scale: 0.0 }
      fr3_joint7: { p:  50.0, d:  5.0, i: 0.0, i_clamp: 1.0, ff_velocity_scale: 0.0 }

